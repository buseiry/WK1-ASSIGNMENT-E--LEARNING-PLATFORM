<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reading Streak - Build Your Reading Habit</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="./styles.css">
  <link rel="stylesheet" href="./styles/output.css">
  <link rel="stylesheet" href="./styles/output.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!--
    Design System (Tailwind + Inter)
    - Font: Inter (400, 600, 700)
    - Background: #f9fafb (slate-50)
    - Primary: Indigo 500/600 (#6366f1 / #4f46e5)
    - Accent: Emerald 500 (#10b981)
    - Layout: max-w-7xl mx-auto px-6, generous spacing (py-8/py-12)
    - Components: rounded-2xl, shadow-md, hover:shadow-lg, transition
  -->
  
</head>
<body>
  <script src="./layout.js"></script>
  <header class="navbar">
    <div class="container">
      <div class="nav-brand">
        <h1>📚 Reading Streak</h1>
      </div>
      <nav class="nav-links">
        <a href="index.html" class="nav-link active">Home</a>
        <a href="about.html" class="nav-link">About</a>
        <a href="payment.html" class="nav-link">Payment</a>
        <a id="topDash" href="dashboard.html" class="nav-link" style="display:none;">Dashboard</a>
        <a id="topLead" href="leaderboard.html" class="nav-link" style="display:none;">Leaderboard</a>
        <a href="referral.html" class="nav-link">Referral</a>
        <a href="ambassador.html" class="nav-link">Ambassador</a>
      </nav>
    </div>
  </header>
  <main class="max-w-7xl mx-auto px-6">
    <section class="hero bg-white rounded-2xl shadow-md border border-gray-100 my-10 py-12 text-center">
      <h2 class="text-4xl md:text-5xl font-bold tracking-tight bg-gradient-to-r from-indigo-500 to-emerald-500 bg-clip-text text-transparent" style="font-family:Inter, sans-serif">Build a Daily Reading Habit</h2>
      <p class="mt-4 text-gray-600 max-w-2xl mx-auto">Earn points for every 60 minutes of focused reading, climb the leaderboard, and transform your academic success.</p>
      <div class="mt-8 flex flex-wrap items-center justify-center gap-3">
        <a href="payment.html" class="inline-flex items-center rounded-xl bg-indigo-600 text-white px-6 py-3 shadow-md hover:shadow-lg hover:bg-indigo-500 transition">Get Started</a>
        <a href="about.html" class="inline-flex items-center rounded-xl border border-indigo-200 text-indigo-700 px-6 py-3 bg-white hover:bg-indigo-50 transition">Learn More</a>
      </div>
    </section>
    <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 my-10">
      <div class="feature-card bg-white rounded-2xl shadow-md border border-gray-100 p-6 hover:shadow-lg transition">
        <div class="feature-icon text-4xl">📚</div>
        <h3 class="mt-3 text-lg font-semibold text-gray-800">Track Reading Sessions</h3>
        <p class="mt-1 text-gray-600">Monitor your daily reading progress with our intuitive timer and session tracking system.</p>
      </div>
      <div class="feature-card bg-white rounded-2xl shadow-md border border-gray-100 p-6 hover:shadow-lg transition">
        <div class="feature-icon text-4xl">🏆</div>
        <h3 class="mt-3 text-lg font-semibold text-gray-800">Earn Points & Rewards</h3>
        <p class="mt-1 text-gray-600">Get 5 points for every 60-minute reading session and climb the leaderboard.</p>
      </div>
      <div class="feature-card bg-white rounded-2xl shadow-md border border-gray-100 p-6 hover:shadow-lg transition">
        <div class="feature-icon text-4xl">📊</div>
        <h3 class="mt-3 text-lg font-semibold text-gray-800">Progress Analytics</h3>
        <p class="mt-1 text-gray-600">View detailed statistics about your reading habits and academic improvement.</p>
      </div>
    </section>
  </main>
  
  <section class="section" id="auth-section">
    <div class="max-w-7xl mx-auto px-6">
      <div class="text-center mt-14">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900" style="font-family:Inter, sans-serif">Welcome Back</h2>
        <p class="mt-2 text-gray-600">Login or create an account to start your reading journey</p>
      </div>
      
      <div class="bg-white rounded-2xl shadow-md border border-gray-100 p-6 mt-8 max-w-md mx-auto">
        <h3 class="text-lg font-semibold text-gray-800">Authentication</h3>
        <form id="authForm" class="mt-4 space-y-4">
          <div>
            <label for="email" class="block text-sm font-medium text-gray-700">Email Address</label>
            <input id="email" type="email" placeholder="you@example.com" required class="mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-200" />
          </div>
          <div>
            <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
            <input id="password" type="password" placeholder="••••••••" required class="mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-200" />
          </div>
          <div class="flex items-center gap-3">
            <button id="loginBtn" class="inline-flex items-center rounded-xl bg-indigo-600 text-white px-5 py-2.5 shadow hover:bg-indigo-500 transition">Login</button>
            <button id="registerBtn" class="inline-flex items-center rounded-xl bg-emerald-500 text-white px-5 py-2.5 shadow hover:bg-emerald-400 transition">Register</button>
          </div>
          <div id="msg" class="hidden text-sm text-gray-700"></div>
          <div class="flex flex-wrap gap-2 mt-2">
            <a id="linkAbout" href="about.html" class="text-indigo-600 hover:underline">About</a>
            <a id="linkPayment" href="payment.html" class="text-indigo-600 hover:underline">Payment</a>
            <a id="linkDashboard" href="dashboard.html" style="display:none" class="text-indigo-600 hover:underline">Dashboard</a>
            <a id="linkLeaderboard" href="leaderboard.html" style="display:none" class="text-indigo-600 hover:underline">Leaderboard</a>
          </div>
        </form>
      </div>
    </div>
  </section>

  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore-compat.js"></script>
  <script src="./firebase-config.js"></script>
  <script>
    const emailEl = document.getElementById('email');
    const passEl = document.getElementById('password');
    const msg = (t)=>{ document.getElementById('msg').textContent = t || ''; };
    document.getElementById('loginBtn').addEventListener('click', async ()=>{
      const e=emailEl.value.trim(), p=passEl.value.trim(); if(!e||!p){ msg('Enter email and password'); return; }
      try { await window.firebaseAuth.signInWithEmailAndPassword(e,p); msg('Logged in. Redirecting...'); window.location.href='about.html'; } catch(err){ msg(err.message); }
    });
    document.getElementById('registerBtn').addEventListener('click', async ()=>{
      const e=emailEl.value.trim(), p=passEl.value.trim(); if(!e||!p){ msg('Enter email and password'); return; }
      try { await window.firebaseAuth.createUserWithEmailAndPassword(e,p); msg('Account created. Redirecting...'); window.location.href='about.html'; } catch(err){ msg(err.message); }
    });
    function setPaidLinksVisible(visible){
      const disp = visible? 'inline' : 'none';
      document.getElementById('linkDashboard').style.display = disp;
      document.getElementById('linkLeaderboard').style.display = disp;
      document.getElementById('topDash').style.display = disp;
      document.getElementById('topLead').style.display = disp;
    }
    // Default: hide paid-only links
    setPaidLinksVisible(false);

    window.firebaseAuth.onAuthStateChanged(async (u)=>{
      if(u){
        try {
          const doc = await window.firebaseDb.collection('users').doc(u.uid).get();
          const paid = !!(doc.exists && (doc.data().hasPaid || doc.data().paymentStatus));
          setPaidLinksVisible(paid);
        } catch {}
        const url=new URL(window.location.href);
        if(url.searchParams.get('paid')==='1'){
          window.location.href='dashboard.html';
        }
      } else {
        setPaidLinksVisible(false);
      }
    });
  </script>
</body>
</html>


